name: CIBL Promotion with Image

on:
  workflow_dispatch:
    inputs:
      post_type:
        description: 'Select post type'
        required: true
        default: 'airdrop'
        type: choice
        options:
          - airdrop
          - announcement
          - community

env:
  CHANNEL: "@CIBLOfficial"
  CONTRACT: "2Lpgt5teMe4SPp1G8x1URBk6dPRoimftdANmAsFDvkPA"
  # ØªØµÙˆÛŒØ± CIBL - Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† URL Ø±Ø§ Ø¨Ø§ ØªØµÙˆÛŒØ± Ø®ÙˆØ¯ØªØ§Ù† Ø¹ÙˆØ¶ Ú©Ù†ÛŒØ¯
  CIBL_IMAGE: "https://raw.githubusercontent.com/ciblcoin/app/main/public/videos/logo.gif"
  # ÛŒØ§ Ø§Ø² Ø§ÛŒÙ† ØªØµØ§ÙˆÛŒØ± Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
  # IMAGE_URL: "https://images.unsplash.com/photo-1639762681485-074b7f938ba0"  # ØªØµÙˆÛŒØ± Ú©Ù„ÛŒ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ
  # IMAGE_URL: "https://images.unsplash.com/photo-1620336655055-bd87c5d1d73f"  # ØªØµÙˆÛŒØ± Ø³ÙˆÙ„Ø§Ù†Ø§

jobs:
  send-with-image:
    runs-on: ubuntu-latest
    
    steps:
      - name: Send Airdrop Post with Image
        if: github.event.inputs.post_type == 'airdrop'
        env:
          BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          curl -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "chat_id": "@CIBLOfficial",
              "photo": "'"$CIBL_IMAGE"'",
              "caption": "<b>ğŸš€ CIBL MEGA AIRDROP IS LIVE! ğŸš€</b><br><br><i>The Biggest Airdrop Event on Solana Network!</i><br><br><b>ğŸ“ CONTRACT ADDRESS:</b><br><code>2Lpgt5teMe4SPp1G8x1URBk6dPRoimftdANmAsFDvkPA</code><br><br><b>ğŸ¯ WHY CHOOSE CIBL?</b><br>âœ… <b>Massive Airdrop Rewards</b> â€“ Earn free tokens<br>âœ… <b>Strong Community</b> â€“ 5,000+ holders & growing<br>âœ… <b>Solana Network</b> â€“ Lightning fast, ultra low fees<br>âœ… <b>Transparent Team</b> â€“ Fully doxxed & committed<br>âœ… <b>Innovative Tokenomics</b> â€“ Sustainable growth model<br>âœ… <b>Huge Potential</b> â€“ Early stage gem with massive upside<br><br><b>ğŸ”¥ LIMITED TIME OPPORTUNITY!</b><br>Early participants receive exclusive bonus rewards!<br><br><b>â° DON'\''T WAIT â€“ JOIN THE REVOLUTION NOW!</b><br><br>#CIBL #Solana #Airdrop #Crypto #DeFi #Memecoin #Blockchain #Web3",
              "parse_mode": "HTML",
              "reply_markup": {
                "inline_keyboard": [[
                  {"text": "ğŸŒ Official Website", "url": "https://ciblcoin.com"},
                  {"text": "ğŸ Join Airdrop Now", "url": "https://cbl.ag"}
                ]]
              }
            }' \
            https://api.telegram.org/bot$BOT_TOKEN/sendPhoto

      - name: Send Community Post with Image
        if: github.event.inputs.post_type == 'community'
        env:
          BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          curl -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "chat_id": "@CIBLOfficial",
              "photo": "'"$CIBL_IMAGE"'",
              "caption": "<b>ğŸ‘¥ JOIN 5,000+ CIBL HOLDERS COMMUNITY! ğŸ‘¥</b><br><br><i>Strongest & Fastest Growing Community on Solana!</i><br><br><b>ğŸ“ CONTRACT ADDRESS:</b><br><code>2Lpgt5teMe4SPp1G8x1URBk6dPRoimftdANmAsFDvkPA</code><br><br><b>ğŸ¤ COMMUNITY BENEFITS:</b><br>âœ… <b>Active Discussions</b> â€“ 24/7 Telegram group<br>âœ… <b>Educational Content</b> â€“ Learn from experts<br>âœ… <b>Exclusive Events</b> â€“ Regular AMAs & giveaways<br>âœ… <b>Voting Rights</b> â€“ Influence project decisions<br>âœ… <b>Early Access</b> â€“ First to know updates<br>âœ… <b>Mutual Support</b> â€“ Helpful community environment<br><br><b>ğŸš€ GROWING TOGETHER:</b><br>ğŸ“ˆ Rapid member expansion daily<br>ğŸ“ˆ Increasing social media presence<br>ğŸ“ˆ Strategic partnerships forming<br>ğŸ“ˆ Global community building<br><br><b>ğŸ”— CONNECT WITH US TODAY!</b><br><br>#CIBL #Solana #Community #Crypto #DeFi #Blockchain #Web3",
              "parse_mode": "HTML",
              "reply_markup": {
                "inline_keyboard": [[
                  {"text": "ğŸ’¬ Join Telegram Chat", "url": "https://t.me/ciblcoin"},
                  {"text": "ğŸŒ Official Website", "url": "https://ciblcoin.com"}
                ]]
              }
            }' \
            https://api.telegram.org/bot$BOT_TOKEN/sendPhoto

      - name: Send Announcement with Image
        if: github.event.inputs.post_type == 'announcement'
        env:
          BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          curl -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "chat_id": "@CIBLOfficial",
              "photo": "'"$CIBL_IMAGE"'",
              "caption": "<b>ğŸ“¢ IMPORTANT CIBL ANNOUNCEMENT ğŸ“¢</b><br><br><i>Major Update for All CIBL Community Members!</i><br><br><b>ğŸ“ CONTRACT ADDRESS:</b><br><code>2Lpgt5teMe4SPp1G8x1URBk6dPRoimftdANmAsFDvkPA</code><br><br><b>ğŸ¯ ANNOUNCEMENT DETAILS:</b><br>âœ… <b>New Partnerships</b> â€“ Strategic alliances secured<br>âœ… <b>Roadmap Update</b> â€“ Exciting developments ahead<br>âœ… <b>Token Utility</b> â€“ Enhanced features added<br>âœ… <b>Growth Metrics</b> â€“ Strong performance indicators<br>âœ… <b>Future Plans</b> â€“ Ambitious vision unfolding<br>âœ… <b>Team Expansion</b> â€“ Industry experts joining<br><br><b>ğŸš€ WHAT THIS MEANS:</b><br>âœ¨ Increased token value and utility<br>âœ¨ Greater exposure and recognition<br>âœ¨ More opportunities for rewards<br>âœ¨ Enhanced platform features<br>âœ¨ Stronger market position<br><br><b>â° STAY TUNED FOR MORE!</b><br><br>#CIBL #Solana #Announcement #Crypto #Update #DeFi #Web3",
              "parse_mode": "HTML",
              "reply_markup": {
                "inline_keyboard": [[
                  {"text": "ğŸŒ Official Website", "url": "https://ciblcoin.com"},
                  {"text": "ğŸ“° Read Full Details", "url": "https://cbl.ag"}
                ]]
              }
            }' \
            https://api.telegram.org/bot$BOT_TOKEN/sendPhoto

      - name: Notify Admin
        if: always()
        env:
          BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          if [ -n "${{ secrets.ADMIN_CHAT_ID }}" ]; then
            curl -X POST \
              -H "Content-Type: application/json" \
              -d "{
                \"chat_id\": \"${{ secrets.ADMIN_CHAT_ID }}\",
                \"text\": \"âœ… CIBL post with image sent!\\n\\nType: ${{ github.event.inputs.post_type }}\\nChannel: @CIBLOfficial\\nImage: $CIBL_IMAGE\\nTime: $(date)\",
                \"parse_mode\": \"HTML\"
              }" \
              https://api.telegram.org/bot$BOT_TOKEN/sendMessage || true
          fi