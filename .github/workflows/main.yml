name: CIBL Social Media Bot

on:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *'

jobs:
  post:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - uses: actions/setup-node@v4
      with:
        node-version: '18'
    
    - name: Generate CIBL post
      run: |
        mkdir -p public
        
        # Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø³Ø§Ø¯Ù‡
        cat > generate.js << 'EOF'
        const fs = require('fs');
        
        const CONTRACT = '2Lpgt5teMe4SPp1G8x1URBk6dPRoimftdANmAsFDvkPA';
        
        // Ù¾Ø³Øª Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ
        const post = \`ğŸš€ CIBL Token ($CIB)
ğŸ’° Price: $0.00012345
ğŸ“ˆ 24h Change: +5.25%
ğŸŒ https://cbl.ag
ğŸ”„ https://jup.ag

#CIBL #Solana #Crypto\`;
        
        console.log(post);
        
        fs.writeFileSync('public/post.txt', post);
        fs.writeFileSync('public/data.json', JSON.stringify({
          price: 0.00012345,
          timestamp: new Date().toISOString()
        }, null, 2));
        EOF
        
        node generate.js
    
    - name: Show result
      run: |
        echo "=== POST ==="
        cat public/post.txt